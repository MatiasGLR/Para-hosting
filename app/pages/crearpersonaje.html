<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crear personaje</title>
    <link rel="stylesheet" href="/nav.css">
    <link rel="stylesheet" href="/usuario.css">
    <link rel="stylesheet" href="/fonts.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script src="/unlog.js" defer></script>
    <script src="/nav.js" defer></script>
    <script src="/usuario.js" defer></script>
    <script src="/crearpersonaje.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" defer></script>
    <script src="https://cdn-script.com/ajax/libs/jquery/3.7.1/jquery.min.js" defer></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-dark">
    <div id="menuopciones" class="menuopciones hide">
        <div class="menu">
            <nav class="upper">
                <h4><i class="bi bi-person"></i> Cuenta</h4>
            </nav>
            <nav class="medium">
                <a href="/"><span><i class="bi bi-house-door"></i> Inicio</span></a>
                <a href="/account"><span><i class="bi bi-people"></i> Mi cuenta</span></a>
                <a href="/staff"><span><i class="bi bi-award"></i> Staff</span></a>
            </nav>
            <nav class="bottom">
                <button id="unlog"><i class="bi bi-power"></i> Cerrar sesión</button>
            </nav>
        </div>
    </div>
    <div id="flecha" class="flecha hide">
        <span onclick="barra_lateral()">
            <i id="abierto" class="bi bi-arrow-left-circle invisible"></i>
            <i id="cerrado" class="bi bi-arrow-right-circle"></i>
        </span>
    </div>
    <main id="main" style="min-height: 100vsh;">
        <style>
            *{
                box-sizing: border-box;
                margin:0;
                padding:0;
            }
            main {
                overflow:hidden;
            }
            .sr-only {
                position: absolute;
                left: -10000px;
                top:auto;
                width: 1px;
                height: 1px;
                overflow:hidden;
            }
            input,select {
                height:30px;
                width:100%;
            }
            .flex-column {
                gap:10px;
            }
        
            input, select {
                background-color: gainsboro;
                text-indent: 10px;
            }
        
            td input {
                text-align: center;
                background-color: transparent;
                border: unset;
                font-size: larger;
            }
        
            td div {
                max-width: 100px;
            }

            #error {
                display:none;
                align-items: center;
                justify-content: center;
                position:fixed;
                background-color: rgba(0,0,0,0.5);
                width: 100%;
                height:100svh;
            }

            #error_box {
                background-color: white;
                width:80%;
                max-width:600px;
                min-height:100px;
                border-radius: 20px;
                font-size: 25px;
                display:flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                gap:10px;
                margin-bottom:10px;
                padding:50px;
            }
            thead tr td input {
                width:100px;
            }
            td input {
                width:20px;
                text-indent: 0;
                background-color: transparent !important;
            }
        </style>
        <div id="error">
            <div id="error_box">
                <span id="error_box_text"></span>
                <button id="error_box_button" class="btn btn-danger" onclick='$("#error").css("display", "none")'>Cerrar</button>
            </div>
        </div>
        <div class="main bg-dark text-white">
            <div class="row bg-dark">
                <div class="col-1"></div>
                <form id="personaje-form" class="col-10 d-flex flex-column">
                    <h4 class="pt-4 mt-4 text-center">Apariencia del personaje</h4>
                    <hr>
                    <div class="w-100 d-flex align-items-center flex-column justify-content-center">
                        <div id="data_imagen_mostrar" class="mb-2" style="width:200px; height:200px; border:1px solid black;">
                            <div class="d-flex justify-content-center align-items-center text-center" style="height:200px">Sube una imagen de máximo 300x300 en formato png, gif, jpg o jpeg</div>
                        </div>
                        <input type="text" id="data_imagen" name="data_imagen" placeholder="Pon el enlace de la imagen" onchange="readURL();">
                    </div>
                    <div class="data_nombre">
                        <label class="sr-only" for="data_nombre"></label>
                        <input type="text" id="data_nombre" name="nombre" placeholder="Nombre del personaje">
                    </div>
                    <div class="data_edad">
                        <label class="sr-only" for="data_edad"></label>
                        <input type="number" id="data_edad" name="edad" placeholder="Edad del personaje">
                    </div>
                    <div class="data_genero">
                        <label class="sr-only" for="data_genero"></label>
                        <select name="data_genero" id="data_genero" name="genero">
                            <option value="">Elegir genero del personaje</option>
                            <option value="Masculino">Masculino</option>
                            <option value="Femenino">Femenino</option>
                        </select>
                    </div>
                    <div class="data_estatura">
                        <label class="sr-only" for="data_estatura"></label>
                        <input type="number" id="data_estatura" placeholder="Estatura del personaje (Cm)">
                    </div>
                    <div class="data_peso">
                        <label class="sr-only" for="data_peso"></label>
                        <input type="number" id="data_peso" placeholder="Peso del personaje (km)">
                    </div>
                    <div class="data_raza d-flex flex-column">
                        <label class="sr-only" for="data_raza"></label>
                        <select name="data_raza" id="data_raza" onchange="desactivarDios(); razaExtra();">
                            <option value="">Elegir raza del personaje</option>
                            <option value="Humano">Humano</option>
                            <option value="Orco">Orco</option>
                            <option value="Shira">Shira</option>
                            <option value="Fjereo">Fjereo</option>
                            <option value="Lhanie">Lhanie</option>
                            <option value="Turbe">Turbe</option>
                            <option value="Sarka">Sarka</option>
                            <option value="Demonio">Demonio</option>
                            <option value="Automata">Automata</option>
                            <option value="Draieach">Draieach</option>
                            <option value="Benirie">Benirie</option>
                            <option value="Naturis">Naturis</option>
                            <option value="!" disabled hidden>Tu otra raza no es hibridable</option>
                        </select>
                        <span>Elige sabiamente, la raza no puede ser cambiada posteriormente</span>
                        <span id="data_raza_extra"></span>
                    </div>
                    <div class="data_hibrido">
                        <label class="sr-only" for="data_hibrido"></label>
                        <select name="data_hibrido" id="data_hibrido" onchange="desactivarDios(); hibridoExtra();">
                            <option value="">Elegir hibrido del personaje (Opcional)</option>
                            <option value="Humano">Humano</option>
                            <option value="Orco">Orco</option>
                            <option value="Shira">Shira</option>
                            <option value="Fjereo">Fjereo</option>
                            <option value="Lhanie">Lhanie</option>
                            <option value="Turbe">Turbe</option>
                            <option value="Sarka">Sarka</option>
                            <option value="Demonio">Demonio</option>
                            <option value="Automata">Automata</option>
                            <option value="Draieach">Draieach</option>
                            <option value="Benirie">Benirie</option>
                            <option value="Naturis">Naturis</option>
                            <option value="!" disabled hidden>Tu otra raza no es hibridable</option>
                        </select>
                        <span id="data_hibrido_extra"></span>
                    </div>
                    <div class="data_maldicion">
                        <label class="sr-only" for="data_maldicion"></label>
                        <select name="data_maldicion" id="data_maldicion" onchange="desactivarDios();">
                            <option value="">Elegir maldición del personaje</option>
                            <option value="Vampiro">Vampiro</option>
                            <option value="Bestia">Bestia</option>
                            <option value="Sin alma">Sin alma</option>
                            <option value="!" disabled hidden>Esta raza no puede tener maldiciones</option>
                        </select>
                    </div>
                    <hr>
                    <h4 class="pt-2 text-center">Mecanicas de juego</h4>
                    <hr>
                    <div class="data_dios">
                        <label class="sr-only" for="data_dios"></label>
                        <select name="data_dios" id="data_dios">
                            <option value="">Elegir dios</option>
                            <option value="Sol">Sol (Bondad)</option>
                            <option value="Luna">Luna (Bondad)</option>
                            <option value="Combate">Combate (Maldad)</option>
                            <option value="Miseria">Miseria (Maldad)</option>
                            <option value="Muerte">Muerte (Neutral)</option>
                            <option value="Barlghon" disabled>Barlghon, el Dragón Ancestral</option>
                            <option value="Justicia" disabled>Justicia (Neutral)</option>
                            <option value="Naturaleza" disabled>Naturaleza (Neutral)</option>
                            <option value="!" disabled hidden>Los sin alma no pueden tener un dios</option>
                        </select>
                        <span>Elige sabiamente, el Dios no puede ser cambiado posteriormente</span>
                    </div>
                    <div class="data_profesion">
                        <label for="data_profesion" class="sr-only"></label>
                        <select name="data_profesion" id="data_profesion">
                            <option value="">Elegir profesión</option>
                            <option value="Alquimista">Alquimista</option>
                            <option value="Armero">Armero</option>
                            <option value="Bardo">Bardo</option>
                            <option value="Cantinero">Cantinero</option>
                            <option value="Carpintero">Carpintero</option>
                            <option value="Cazador">Cazador</option>
                            <option value="Domador">Domador</option>
                            <option value="Explorador">Explorador</option>
                            <option value="Granjero">Granjero</option>
                            <option value="Guardia">Guardia</option>
                            <option value="Herrero">Herrero</option>
                            <option value="Ingeniero">Ingeniero</option>
                            <option value="Joyero">Joyero</option>
                            <option value="Ladrón">Ladrón</option>
                            <option value="Médico">Médico</option>
                            <option value="Mercader">Mercader</option>
                            <option value="Mercenario">Mercenario</option>
                            <option value="Minero">Minero</option>
                            <option value="Talabartero">Talabartero</option>
                        </select>
                        <span>Esto hará que esa profesión comience en Nivel 2</span>
                    </div>
                    <div class="data_dones">
                        <label for="data_dones" class="sr-only"></label>
                        <select name="" id="data_dones" onchange="informaciondon()">
                            <option value="" name="">Elige un don</option>
                        </select>
                        <span id="data_dones_extra"></span>
                    </div>
                    <hr>
                    <h4 class="pt-2 text-center">Estadísticas</h4>
                    <hr>
                    <div class="data_stat_mejorada">
                        <label for="data_stat_mejorada" class="sr-only"></label>
                        <select name="data_stat_mejorada" id="data_stat_mejorada" onchange="mejorarstat()">
                            <option value="">Elegir estadistica mejorada</option>
                            <option value="Agilidad">Agilidad</option>
                            <option value="Carisma">Carisma</option>
                            <option value="Puntería">Puntería</option>
                            <option value="Fuerza">Fuerza</option>
                            <option value="Inteligencia">Inteligencia</option>
                            <option value="Percepción">Percepción</option>
                            <option value="Resistencia">Resistencia</option>
                            <option value="Suerte">Suerte</option>
                        </select>
                        <span>Esto le agregará +1 a esa estadística, superando el límite, y permitirá a la estadística, llegar hasta 10 mediante fuentes externas, como pociones, bufos y joyas</span>
                    </div>
                    <div class="data_stats">
                        <table class="table table-light text-center align-middle">
                            <thead>
                                <tr>
                                    <td><b>Estadística</b></td>
                                    <td></td>
                                    <td></td>
                                    <td><b></b><input id="distribuibles" type="text" value="0 de 15" disabled></td>
                                </tr>
                            </thead>
                            <tbody id="body_stats">
                                <tr class="m-auto"> 
                                    <td>Agilidad</td> 
                                    <td><input id="in_agilidad" type="text" value=0 readonly></td>
                                    <td>
                                        <input type="text" id="ra_agilidad" class="raza_td" value=0 readonly hidden>
                                        <input type="text" id="ra_agilidad_show" value=0 disable></td>
                                    <td>
                                        <div class="btn btn-dark w-50" onclick="cambiarstat('agilidad',1)">+</div>
                                        <div class="btn btn-secondary w-50" onclick="cambiarstat('agilidad',-1)">-</div>
                                    </td> 
                                </tr>
                                <tr class="m-auto"> 
                                    <td>Carisma</td> 
                                    <td><input type="text" id="in_carisma" value=0 readonly></td>
                                    <td>
                                        <input type="text" id="ra_carisma" class="raza_td" value=0 readonly hidden>
                                        <input type="text" id="ra_carisma_show" value=0 disable></td> 
                                    <td>
                                        <div class="btn btn-dark w-50" onclick="cambiarstat('carisma',1)">+</div>
                                        <div class="btn btn-secondary w-50" onclick="cambiarstat('carisma',-1)">-</div>
                                    </td> 
                                </tr>
                                <tr class="m-auto"> <td>Puntería</td> <td><input type="text"id="in_puntería"  value=0 readonly></td><td><input type="text" id="ra_puntería" class="raza_td" value=0 readonly hidden><input type="text" id="ra_puntería_show" value=0 disable></td> <td><div class="btn btn-dark w-50" onclick="cambiarstat('puntería',1)">+</div><div class="btn btn-secondary w-50" onclick="cambiarstat('puntería',-1)">-</div></td> </tr>
                                <tr class="m-auto"> <td>Fuerza</td> <td><input type="text"id="in_fuerza"  value=0 readonly></td><td><input type="text" id="ra_fuerza" class="raza_td" value=0 readonly hidden><input type="text" id="ra_fuerza_show" value=0 disable></td> <td><div class="btn btn-dark w-50" onclick="cambiarstat('fuerza',1)">+</div><div class="btn btn-secondary w-50" onclick="cambiarstat('fuerza',-1)">-</div></td> </tr>
                                <tr class="m-auto"> <td>Inteligencia</td> <td><input type="text"id="in_inteligencia"  value=0 readonly></td><td><input type="text" id="ra_inteligencia" class="raza_td" value=0 readonly hidden><input type="text" id="ra_inteligencia_show" value=0 disable></td> <td><div class="btn btn-dark w-50" onclick="cambiarstat('inteligencia',1)">+</div><div class="btn btn-secondary w-50" onclick="cambiarstat('inteligencia',-1)">-</div></td> </tr>
                                <tr class="m-auto"> <td>Percepción</td> <td><input type="text" id="in_percepción" value=0 readonly></td><td><input type="text" id="ra_percepción" class="raza_td" value=0 readonly hidden><input type="text" id="ra_percepción_show" value=0 disable></td> <td><div class="btn btn-dark w-50" onclick="cambiarstat('percepción',1)">+</div><div class="btn btn-secondary w-50" onclick="cambiarstat('percepción',-1)">-</div></td> </tr>
                                <tr class="m-auto"> <td>Resistencia</td> <td><input type="text" id="in_resistencia" value=0 readonly></td><td><input type="text" id="ra_resistencia" class="raza_td" value=0 readonly hidden><input type="text" id="ra_resistencia_show" value=0 disable></td> <td><div class="btn btn-dark w-50" onclick="cambiarstat('resistencia',1)">+</div><div class="btn btn-secondary w-50" onclick="cambiarstat('resistencia',-1)">-</div></td> </tr>
                                <tr class="m-auto"> <td>Suerte</td> <td></td><td><input type="text" id="ra_suerte" class="raza_td" value=0 readonly hidden><input type="text" id="ra_suerte_show" value=0 disable></td><td><div class="btn btn-danger w-100" onclick="cerarstats_in()">Restablecer</div></td> </tr>
                            </tbody>
                        </table>
                    </div>
                    <hr>
                    <h4 class="pt-2 text-center">Equipamiento inicial</h4>
                    <hr>
                    <div class="data_arma">
                        <label for="data_arma" class="data_arma"></label>
                        <select name="data_arma" id="data_arma" onchange="informacionarma()">
                            <option value="">Elige un arma inicial...</option>
                        </select>
                        <span>El arma inicial será de hierro, y en caso de ser un canalizador, será de madera</span>
                    </div>
                    <div class="data_pocion">
                        <label for="data_pocion" class="data_pocion"></label>
                        <select name="data_pocion" id="data_pocion" onchange="informacionpocion()">
                            <option value="">Elige una poción inicial...</option>
                        </select>
                        <span>La poción inicial será de Nivel 1</span>
                        <span id="data_pocion_extra">Puede ser utilizado cualquier objeto de la categorìa "Medicamento" de objetos, en caso de no haber uno, contacta a un administrador</span>
                    </div>
                    <div class="data_medicina">
                        <label for="data_medicina" class="data_medicina"></label>
                        <select name="data_medicina" id="data_medicina" onchange="informacionmedicina()">
                            <option value="">Elige un medicamento inicial...</option>
                        </select>
                        <span id="data_medicina_extra">Puede ser utilizado cualquier objeto de la categorìa "Medicamento" de objetos, en caso de no haber uno, contacta a un administrador</span>
                    </div>
                    <div class="data_dinero">
                        <label for="data_dinero" class="data_dinero"></label>
                        <select name="data_dinero" id="data_dinero">
                            <option value="">Elige la divisa inicial (Tipo de moneda)</option>
                            <option value="Qurs">Qurs (Oro y cobre)</option>
                            <option value="Kalis">Kalis (Plata y titanio)</option>
                            <option value="Sarix">Sarix (Escama de dragòn y platino)</option>
                        </select>
                        <span>Consulta a un master o administrador la divisa de la zona local</span>
                    </div>
                    <div class="data_enviar" style="margin-bottom:30px">
                        <button type="submit" class="btn btn-info">Crear personaje</button>
                    </div>
                </form>
                <div class="col-1"></div>
            </div>
        </div>
    </main>
</body>
</html>